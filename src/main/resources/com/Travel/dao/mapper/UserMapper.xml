<?xml version="1.0" encoding="UTF-8" ?>
<!--MyBatis配置文件-->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.Travel.dao.mapper.UserMapper">
    <insert id="addConcernUser">
        insert into tb_concern values (null,#{loginUserId},#{concernUserId})
    </insert>

    <update id="addGrade">
        update tb_admin set grade=grade+1 where id=#{id};
    </update>

    <update id="addExperience">
        update tb_admin set experience=experience+10 where id=#{id};
    </update>
    <update id="updateUserInformation">
        update tb_admin set nickName=#{nickName},userPhoto=#{userPhoto} where id=#{id}
    </update>
    <update id="updateTags">
        update tb_admin set tags=#{tagsJson} where id=#{id}
    </update>
    <delete id="cancelConcern">
        delete from tb_concern where userId=#{loginUserId} and concern_Id=#{concernUserId}
    </delete>
    <select id="isNoConcern" resultType="java.lang.Integer">
        select count(*) from tb_concern where userId=#{loginUserId} and concern_Id=#{concernUserId}
    </select>
    <select id="getUserFans" resultType="com.Travel.vo.UserVo">
        select * from tb_admin where id in (select userId from tb_concern where concern_Id =#{id}) limit #{currentPage},#{pageSize}
    </select>
    <select id="getUserConcern" resultType="com.Travel.vo.UserVo">
        select * from tb_admin where id in (select concern_Id from tb_concern where userId =#{id}) limit #{currentPage},#{pageSize}
    </select>
</mapper>